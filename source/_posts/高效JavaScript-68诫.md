---
title: 高效JavaScript 68诫
date: 2017-12-17 17:07:09
tags: JavaScript
---

将《编写高质量JavaScript代码的68个有效方法》书中提到的68个方法分享给大家。

### 让自己习惯`JavaScript`

1. 了解你使用的JavaScript版本
2. 理解JavaScript的浮点数
3. 当心隐式的强制转换
4. 原始类型优于封装对象
5. 避免对混合类型使用`==`运算符
6. 了解分号插入的局限
7. 视字符串为16位的代码单元序列

<!-- more -->

### 变量作用域

8. 尽量少用全局对象
9. 始终声明局部变量
10. 避免使用`with`
11. 熟练掌握闭包
12. 理解变量声明提升
13. 使用立即调用的函数表达式创建局部函数
14. 当心命名函数表达式笨拙的作用域
15. 当心局部块函数声明笨拙的作用域
16. 避免使用`eval`创建局部变量
17. 间接调用`eval`函数优于直接调用

### 使用函数

18. 理解函数调用、方法调用及构造函数
19. 熟练掌握高阶函数
20. 使用`call`方法自定义接收者来调用函数
21. 使用`apply`方法通过不同数量的参数调用函数
22. 使用`arguments`创建可变参数的函数
23. 永远不要修改`arguments`对象
24. 使用变量保存`arguments`的引用
25. 使用`bind`方法提取具有确定接收者的方法
26. 使用`bind`方法实现函数柯里化
27. 使用闭包而不是字符串来封装代码
28. 不要信赖函数对象的`toString`方法
29. 避免使用非标准的栈检查属性

### 对象和原型

30. 理解`prototype`、`getPrototypeOf`和`__proto__`之间的不同
31. 使用`Object.getPrototypeOf`函数而不要使用`__proto__`属性
32. 始终不要修改`__proto__`属性
33. 使构造函数与`new`操作符无关
34. 在原型中存储方法
35. 使用闭包存储私有数据
36. 只将实例状态存储在实例对象中
37. 认识到`this`变量的隐式绑定问题
38. 在子类的构造函数中调用父类的构造函数
39. 不要重用父类的属性名
40. 避免继承标准类
41. 将原型视为实现细节
42. 避免使用轻率的**猴子补丁**(monkey-patching)

### 数组和字典

43. 使用`Object`的直接实例构造轻量级的字典
44. 使用`null`原型以防止原型污染
44. 使用数组而不要使用字典存储有序集合
45. 使用`hasOwnProperty`方法以避免原型污染
46. 使用数组而不要使用字典来存储有序集合
47. 绝不要在`Object.prototype`中增加可枚举的属性
48. 避免在枚举期间修改对象
49. 数组迭代要优先使用`for`循环而不是`for...in`循环
50. 迭代方法由于循环
51. 在类数组对象上复用通用的数组方法
52. 数组字面量优于数组构造函数

### 库和API设计

53. 保持一致的约定
54. 将`undefined`看做“没有值”
55. 接收关键字参数的选项对象
56. 避免不必要的状态
57. 使用结构类型设计灵活的接口
58. 区分数组对象和类数组对象
59. 避免过度的强制转换
60. 支持方法链

### 并发

61. 不要阻塞I/O事件队列
62. 在异步序列中使用嵌套或命名的回调函数
63. 当心丢弃错误
64. 对异步循环使用递归
65. 不要在计算时阻塞事件队列
66. 使用计数器来执行并行操作
67. 绝不要同步的调用异步的回调函数
68. 使用`promise`模式清洁异步逻辑